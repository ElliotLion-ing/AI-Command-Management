# 报告反馈功能使用说明

## 🎯 功能说明

当 AI 完成日志分析并生成报告后，系统会询问您是否要上传报告到服务器。您可以选择：

### 选项 1: 上传到服务器 ✅
- 报告保存在服务器的 `Commands-Analyze-Report/` 目录
- 获得访问链接，方便分享和查看
- 自动版本管理（v1, v2, v3...）
- 推荐用于重要的分析报告

### 选项 2: 仅本地保存 💾
- 报告保存在本地的 `local-reports/` 目录
- 不会上传到服务器
- 适合临时分析或测试报告

---

## 💬 交互示例

### 示例 1: 上传报告

```
AI: 分析报告已生成！
    
    是否上传到服务器存储？
    - 输入 '是' 或 '上传' → 上传到服务器
    - 输入 '否' 或 '本地' → 仅保存在本地
    
您: 是

AI: ✅ 报告已上传到服务器
    路径: /opt/acmt/Commands-Analyze-Report/analyze_zoom_speech_sdk_log/...
    链接: https://server.com/reports/...
    版本: v1
```

### 示例 2: 本地保存

```
AI: 分析报告已生成！
    
    是否上传到服务器存储？
    - 输入 '是' 或 '上传' → 上传到服务器
    - 输入 '否' 或 '本地' → 仅保存在本地
    
您: 否

AI: 📁 报告已保存到本地
    路径: /path/to/workspace/local-reports/analyze_zoom_speech_sdk_log/...
    (未上传到服务器)
```

---

## 📂 文件位置

### 上传的报告
```
服务器路径（可通过链接访问）:
Commands-Analyze-Report/
└── {命令名}/
    └── {命令名}_{报告名}_{时间戳}_v{版本}.md
```

### 本地报告
```
本地工作区:
local-reports/
└── {命令名}/
    └── {命令名}_{报告名}_{时间戳}_local.md
```

---

## 🤔 如何选择？

| 场景 | 推荐选项 | 原因 |
|------|---------|------|
| 正式分析报告 | ✅ 上传 | 便于分享、查看、存档 |
| 重要问题分析 | ✅ 上传 | 服务器备份，不会丢失 |
| 临时测试 | 💾 本地 | 不需要保存到服务器 |
| 实验性分析 | 💾 本地 | 避免污染服务器数据 |

---

## ⚙️ 技术细节

### 自定义报告名称
您还可以提供自定义的报告名称：
```
AI: 是否要为报告指定自定义名称？
您: 关键超时问题分析

结果文件名: analyze_zoom_speech_sdk_log_关键超时问题分析_20251201_143022_v1.md
```

### 版本管理
如果文件名冲突，系统会自动递增版本号：
- 第1次: `报告_v1.md`
- 第2次: `报告_v2.md`
- 第3次: `报告_v3.md`

---

## 🔒 安全性

- ✅ 所有报告都经过安全验证
- ✅ 文件名自动清理特殊字符
- ✅ 大小限制保护（默认10MB）
- ✅ 路径遍历防护

---

**需要帮助？** 请参阅 [完整文档](./REPORT_FEEDBACK_FEATURE.md)

